{"ast":null,"code":"import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { getUsers } from \"../data/data\";\nconst START_LOADING = 'START_LOADING';\nconst HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nconst HANDLE_ERROR = 'HANDLE_ERROR ';\nexport const startLoading = () => ({\n  type: START_LOADING\n});\nexport const handleError = () => ({\n  type: HANDLE_ERROR\n});\nexport const handleSuccess = users => ({\n  type: HANDLE_SUCCESS,\n  users\n});\nexport const loadUsers = () => {\n  return dispatch => {\n    store.dispatch(startLoading());\n    return getUsers().then(users => store.dispatch(handleSuccess(users))).catch(() => store.dispatch(handleError()));\n  };\n};\nconst initialState = {\n  users: [],\n  isLoading: false,\n  hasError: false\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case START_LOADING:\n      return { ...state,\n        isLoading: true,\n        hasError: false\n      };\n\n    case HANDLE_SUCCESS:\n      return { ...state,\n        users: action.users,\n        isLoading: false\n      };\n\n    case HANDLE_ERROR:\n      return { ...state,\n        hasError: true,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nlocalStorage.clear();\nconst store = createStore(reducer, initialState, applyMiddleware(thunk));\nexport default store;","map":{"version":3,"sources":["D:/Star-db/my-app/src/component/UsersStore/index.js"],"names":["createStore","applyMiddleware","thunk","getUsers","START_LOADING","HANDLE_SUCCESS","HANDLE_ERROR","startLoading","type","handleError","handleSuccess","users","loadUsers","dispatch","store","then","catch","initialState","isLoading","hasError","reducer","state","action","localStorage","clear"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,eAArB,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAAQC,QAAR,QAAuB,cAAvB;AAEA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AACA,MAAMC,YAAY,GAAG,eAArB;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAO;AAACC,EAAAA,IAAI,EAAEJ;AAAP,CAAP,CAArB;AACP,OAAO,MAAMK,WAAW,GAAG,OAAO;AAACD,EAAAA,IAAI,EAAEF;AAAP,CAAP,CAApB;AAEP,OAAO,MAAMI,aAAa,GAAIC,KAAD,KAAY;AACrCH,EAAAA,IAAI,EAAEH,cAD+B;AAErCM,EAAAA;AAFqC,CAAZ,CAAtB;AAKP,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC5B,SAAQC,QAAD,IAAc;AACjBC,IAAAA,KAAK,CAACD,QAAN,CAAeN,YAAY,EAA3B;AAEA,WAAOJ,QAAQ,GACdY,IADM,CACAJ,KAAD,IAAWG,KAAK,CAACD,QAAN,CAAeH,aAAa,CAACC,KAAD,CAA5B,CADV,EAEFK,KAFE,CAEI,MAAMF,KAAK,CAACD,QAAN,CAAeJ,WAAW,EAA1B,CAFV,CAAP;AAGH,GAND;AAOF,CARM;AAUP,MAAMQ,YAAY,GAAG;AACjBN,EAAAA,KAAK,EAAE,EADU;AAEjBO,EAAAA,SAAS,EAAE,KAFM;AAGjBC,EAAAA,QAAQ,EAAE;AAHO,CAArB;;AAOA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACd,IAAf;AACI,SAAKJ,aAAL;AACI,aAAO,EACH,GAAGiB,KADA;AAEHH,QAAAA,SAAS,EAAE,IAFR;AAGHC,QAAAA,QAAQ,EAAE;AAHP,OAAP;;AAKJ,SAAKd,cAAL;AACI,aAAO,EACH,GAAGgB,KADA;AAEHV,QAAAA,KAAK,EAAEW,MAAM,CAACX,KAFX;AAGHO,QAAAA,SAAS,EAAE;AAHR,OAAP;;AAKJ,SAAKZ,YAAL;AACI,aAAO,EACH,GAAGe,KADA;AAEHF,QAAAA,QAAQ,EAAE,IAFP;AAGHD,QAAAA,SAAS,EAAE;AAHR,OAAP;;AAMJ;AACI,aAAOG,KAAP;AArBR;AAuBH,CAxBD;;AAyBAE,YAAY,CAACC,KAAb;AACA,MAAMV,KAAK,GAAGd,WAAW,CAACoB,OAAD,EAAUH,YAAV,EAAuBhB,eAAe,CAACC,KAAD,CAAtC,CAAzB;AAEA,eAAeY,KAAf","sourcesContent":["import {createStore, applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {getUsers} from \"../data/data\";\r\n\r\nconst START_LOADING = 'START_LOADING';\r\nconst HANDLE_SUCCESS = 'HANDLE_SUCCESS';\r\nconst HANDLE_ERROR = 'HANDLE_ERROR ';\r\n\r\nexport const startLoading = () => ({type: START_LOADING})\r\nexport const handleError = () => ({type: HANDLE_ERROR})\r\n\r\nexport const handleSuccess = (users) => ({\r\n    type: HANDLE_SUCCESS,\r\n    users\r\n})\r\n\r\nexport const loadUsers = () => {\r\n   return (dispatch) => {\r\n       store.dispatch(startLoading());\r\n\r\n       return getUsers()\r\n       .then((users) => store.dispatch(handleSuccess(users)))\r\n           .catch(() => store.dispatch(handleError()))\r\n   }\r\n}\r\n\r\nconst initialState = {\r\n    users: [],\r\n    isLoading: false,\r\n    hasError: false\r\n}\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                hasError: false\r\n            }\r\n        case HANDLE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n                isLoading: false\r\n            }\r\n        case HANDLE_ERROR:\r\n            return {\r\n                ...state,\r\n                hasError: true,\r\n                isLoading: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nlocalStorage.clear();\r\nconst store = createStore(reducer, initialState,applyMiddleware(thunk));\r\n\r\nexport default store;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}