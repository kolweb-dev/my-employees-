{"ast":null,"code":"import _regeneratorRuntime from\"D:/Star-db/my-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Star-db/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"D:/Star-db/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/Star-db/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Star-db/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Star-db/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Star-db/my-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from\"react-redux\";import Loader from\"../Loader\";import store,{loadUsers as _loadUsers}from\"../UsersStore\";import PropTypes from'prop-types';import'./app.css';import EmployeeBirthdayList from\"../EmployeerBirthdayList\";import Employees from\"../Emoloyees/Employees\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ActiveUserForUser=/*#__PURE__*/React.createContext([]);function isInArray(id,arr){return arr.some(function(e){return e.id===id;});}var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeUsers:JSON.parse(localStorage.getItem('activeUsers'))};_this.addActiveUser=function(obj){var activeUsers=JSON.parse(localStorage.getItem('activeUsers'));localStorage.setItem('activeUsers',JSON.stringify([].concat(_toConsumableArray(activeUsers),[obj])));_this.setState({activeUsers:JSON.parse(localStorage.getItem('activeUsers'))});};_this.removeActiveUser=function(removeId){var activeUsers=JSON.parse(localStorage.getItem('activeUsers'));var deleteUserIndex=activeUsers.findIndex(function(el){return el.id===removeId;});activeUsers.splice(deleteUserIndex,1);localStorage.setItem('activeUsers',JSON.stringify(_toConsumableArray(activeUsers)));_this.setState({activeUsers:JSON.parse(localStorage.getItem('activeUsers'))});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.loadUsers();case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var activeUsers=this.state.activeUsers;var _this$props=this.props,users=_this$props.users,isLoading=_this$props.isLoading,hasError=_this$props.hasError;if(isLoading){return/*#__PURE__*/_jsx(Loader,{});}if(hasError){return/*#__PURE__*/_jsx(\"p\",{children:\"Error occurred!!!\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Employee\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Employee-left\",children:/*#__PURE__*/_jsx(ActiveUserForUser.Provider,{value:activeUsers,children:/*#__PURE__*/_jsx(Employees,{users:users,addActiveUser:this.addActiveUser,removeActiveUser:this.removeActiveUser})})}),/*#__PURE__*/_jsx(EmployeeBirthdayList,{activeUsers:activeUsers})]});}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{users:state.users,isLoading:state.isLoading,hasError:state.hasError};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadUsers:function loadUsers(){return dispatch(_loadUsers());}};};App.defaultProps={users:[]};App.protoType={users:PropTypes.arrayOf(PropTypes.object),isLoading:PropTypes.bool.isRequired,hasError:PropTypes.bool.isRequired};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["D:/Star-db/my-app/src/component/app/app.js"],"names":["React","connect","Loader","store","loadUsers","PropTypes","EmployeeBirthdayList","Employees","ActiveUserForUser","createContext","isInArray","id","arr","some","e","App","state","activeUsers","JSON","parse","localStorage","getItem","addActiveUser","obj","setItem","stringify","setState","removeActiveUser","removeId","deleteUserIndex","findIndex","el","splice","props","users","isLoading","hasError","Component","mapStateToProps","mapDispatchToProps","dispatch","defaultProps","protoType","arrayOf","object","bool","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Loader from \"../Loader\";\r\nimport store, {loadUsers} from \"../UsersStore\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './app.css';\r\nimport EmployeeBirthdayList from \"../EmployeerBirthdayList\";\r\nimport Employees from \"../Emoloyees/Employees\";\r\n\r\nexport const ActiveUserForUser = React.createContext([]);\r\n\r\nfunction isInArray(id, arr) {\r\n    return arr.some(e => e.id === id);\r\n}\r\n\r\nclass App extends React.Component {\r\n\r\n    state = {\r\n        activeUsers: JSON.parse(localStorage.getItem('activeUsers'))\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadUsers();\r\n    }\r\n\r\n    addActiveUser = (obj) => {\r\n        let activeUsers = JSON.parse(localStorage.getItem('activeUsers'));\r\n        localStorage.setItem('activeUsers',JSON.stringify([...activeUsers,obj]))\r\n\r\n        this.setState({activeUsers: JSON.parse(localStorage.getItem('activeUsers'))})\r\n    }\r\n\r\n    removeActiveUser = (removeId) => {\r\n\r\n        let activeUsers = JSON.parse(localStorage.getItem('activeUsers'));\r\n\r\n        let deleteUserIndex = activeUsers.findIndex(el => el.id === removeId);\r\n         activeUsers.splice(deleteUserIndex,1)\r\n\r\n        localStorage.setItem('activeUsers',JSON.stringify([...activeUsers]))\r\n\r\n        this.setState({activeUsers: JSON.parse(localStorage.getItem('activeUsers'))})\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const {activeUsers} = this.state;\r\n\r\n        const {users, isLoading, hasError} = this.props;\r\n\r\n\r\n        if (isLoading) {\r\n            return <Loader/>\r\n        }\r\n        if (hasError) {\r\n            return <p>Error occurred!!!</p>\r\n        }\r\n\r\n\r\n        return (\r\n\r\n\r\n                <div className='Employee'>\r\n                    <div className='Employee-left'>\r\n                        <ActiveUserForUser.Provider value={activeUsers}>\r\n                        <Employees\r\n                            users={users}\r\n                            addActiveUser={this.addActiveUser}\r\n                            removeActiveUser={this.removeActiveUser}\r\n                        />\r\n                        </ActiveUserForUser.Provider>\r\n                    </div>\r\n                        <EmployeeBirthdayList activeUsers={activeUsers}/>\r\n                </div>\r\n\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    users: state.users,\r\n    isLoading: state.isLoading,\r\n    hasError: state.hasError\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    loadUsers: () => dispatch(loadUsers()),\r\n})\r\n\r\nApp.defaultProps = {\r\n    users: [],\r\n}\r\n\r\nApp.protoType = {\r\n    users: PropTypes.arrayOf(PropTypes.object),\r\n    isLoading: PropTypes.bool.isRequired,\r\n    hasError: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}